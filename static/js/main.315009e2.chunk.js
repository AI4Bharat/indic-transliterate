(this["webpackJsonpreact-transliterate-example"]=this["webpackJsonpreact-transliterate-example"]||[]).push([[0],{11:function(e,t,n){},18:function(e,t,n){},27:function(e,t,n){"use strict";n.r(t);n(18);var r=n(0),a=n(12),i=n.n(a),c=n(4),o=n(2),s=n(16),u=n(5),l=n(15),d=n(8),f=(n(11),n(1)),b=n(13),p=n.n(b),h=["renderComponent","lang","offsetX","offsetY","onChange","onChangeText","onBlur","value","onKeyDown","containerClassName","containerStyles","activeItemStyles","maxOptions","hideSuggestionBoxOnMobileDevices","hideSuggestionBoxBreakpoint","triggerKeys","insertCurrentSelectionOnBlur","showCurrentWordAsLastSuggestion","enabled"];function g(e){return e&&e.__esModule?e.default:e}function j(e,t,n,r){Object.defineProperty(e,t,{get:n,set:r,enumerable:!0,configurable:!0})}function v(e,t){e&&(e.selectionStart?(e.focus(),e.setSelectionRange(t,t)):e.focus())}var O,m,x={};j(x,"ReactTransliterate",(function(){return O}),(function(e){return O=e})),j(x,"Active",(function(){return m}),(function(e){return m=e})),O="_ReactTransliterate_1b0d4b",m="_Active_1b0d4b";var w="Enter",S="Enter",y="Tab",C=" ",k="https://xlit-api.ai4bharat.org/",E=function(){var e=Object(d.a)(Object(u.a)().mark((function e(t,n){var r,a,i,c,o,s,d;return Object(u.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=(r=n||{numOptions:5,showCurrentWordAsLastSuggestion:!0,lang:"hi"}).showCurrentWordAsLastSuggestion,i=r.lang,c={method:"GET"},e.prev=2,e.next=5,fetch(k+"tl/".concat(i,"/").concat("."===t||".."===t?" "+t.replace(".","%2E"):encodeURIComponent(t).replace(".","%2E")),c);case 5:return o=e.sent,e.next=8,o.json();case 8:if(!((s=e.sent)&&s.result.length>0)){e.next=14;break}return d=a?[].concat(Object(l.a)(s.result),[t]):s.result,e.abrupt("return",d);case 14:if(!a){e.next=16;break}return e.abrupt("return",[t]);case 16:return e.abrupt("return",[]);case 17:e.next=23;break;case 19:return e.prev=19,e.t0=e.catch(2),console.error("There was an error with transliteration",e.t0),e.abrupt("return",[]);case 23:case"end":return e.stop()}}),e,null,[[2,19]])})));return function(t,n){return e.apply(this,arguments)}}(),T=function(){var e=Object(d.a)(Object(u.a)().mark((function e(){var t,n,r,a;return Object(u.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!sessionStorage.getItem("indic_transliterate__supported_languages")){e.next=4;break}return e.abrupt("return",JSON.parse(sessionStorage.getItem("indic_transliterate__supported_languages")||""));case 4:return t="".concat(k,"languages"),(new Headers).append("Content-Type","application/json"),n={method:"GET"},e.prev=8,e.next=11,fetch(t,n);case 11:return r=e.sent,e.next=14,r.json();case 14:return a=e.sent,sessionStorage.setItem("indic_transliterate__supported_languages",JSON.stringify(a)),e.abrupt("return",a);case 19:return e.prev=19,e.t0=e.catch(8),console.error("There was an error with transliteration",e.t0),e.abrupt("return",[]);case 23:case"end":return e.stop()}}),e,null,[[8,19]])})));return function(){return e.apply(this,arguments)}}(),_=function(e){var t=e.renderComponent,n=void 0===t?function(e){return Object(f.jsx)("input",Object(c.a)({},e))}:t,a=e.lang,i=void 0===a?"hi":a,l=e.offsetX,b=void 0===l?0:l,j=e.offsetY,O=void 0===j?10:j,m=e.onChange,k=e.onChangeText,_=e.onBlur,B=e.value,I=e.onKeyDown,N=e.containerClassName,D=void 0===N?"":N,A=e.containerStyles,L=void 0===A?{}:A,M=e.activeItemStyles,F=void 0===M?{}:M,R=e.maxOptions,W=void 0===R?5:R,U=e.hideSuggestionBoxOnMobileDevices,K=void 0!==U&&U,J=e.hideSuggestionBoxBreakpoint,G=void 0===J?450:J,H=e.triggerKeys,P=void 0===H?[C,S,w,y]:H,z=e.insertCurrentSelectionOnBlur,X=void 0===z||z,Y=e.showCurrentWordAsLastSuggestion,q=void 0===Y||Y,Q=e.enabled,V=void 0===Q||Q,Z=Object(s.a)(e,h),$=Object(r.useState)([]),ee=Object(o.a)($,2),te=ee[0],ne=ee[1],re=Object(r.useState)(0),ae=Object(o.a)(re,2),ie=ae[0],ce=ae[1],oe=Object(r.useState)(0),se=Object(o.a)(oe,2),ue=se[0],le=se[1],de=Object(r.useState)(0),fe=Object(o.a)(de,2),be=fe[0],pe=fe[1],he=Object(r.useState)(-1),ge=Object(o.a)(he,2),je=ge[0],ve=ge[1],Oe=Object(r.useState)(-1),me=Object(o.a)(Oe,2),xe=me[0],we=me[1],Se=Object(r.useRef)(null),ye=Object(r.useState)({width:0,height:0}),Ce=Object(o.a)(ye,2),ke=Ce[0],Ee=Ce[1],Te=Object(r.useState)("ltr"),_e=Object(o.a)(Te,2),Be=_e[0],Ie=_e[1],Ne=Object(r.useState)(null),De=Object(o.a)(Ne,2),Ae=De[0],Le=De[1],Me=Object(r.useMemo)((function(){return!K||ke.width>G}),[ke,G,K]),Fe=function(){pe(0),ne([])},Re=function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:" ",r=B,a=r.substring(0,je)+te[e]+" "+r.substring(xe+1,r.length);setTimeout((function(){v(Se.current,"Enter"===n?je+te[e].length:je+te[e].length+1)}),1);var i={target:{value:a}};return k(a),m&&m(i),Fe(),null===(t=Se.current)||void 0===t?void 0:t.focus()},We=function(){var e=Object(d.a)(Object(u.a)().mark((function e(t){var n,r;return Object(u.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Me){e.next=2;break}return e.abrupt("return");case 2:return n=q?W-1:W,e.next=5,E(t,{numOptions:n,showCurrentWordAsLastSuggestion:q,lang:i});case 5:r=e.sent,ne(null!==r&&void 0!==r?r:[]);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ue=function(){var e=Object(d.a)(Object(u.a)().mark((function e(t){var n,r,a;return Object(u.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T();case 2:return n=e.sent,r=null===n||void 0===n?void 0:n.find((function(e){return e.LangCode===t})),e.abrupt("return",[null!==(a=null===r||void 0===r?void 0:r.Direction)&&void 0!==a?a:"ltr",null===r||void 0===r?void 0:r.GoogleFont,null===r||void 0===r?void 0:r.FallbackFont]);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ke=function(){var e=window.innerWidth,t=window.innerHeight;Ee({width:e,height:t})};return Object(r.useEffect)((function(){window.addEventListener("resize",Ke);var e=window.innerWidth,t=window.innerHeight;return Ee({width:e,height:t}),function(){window.removeEventListener("resize",Ke)}}),[]),Object(r.useEffect)((function(){Ue(i).then((function(e){var t=Object(o.a)(e,3),n=t[0],r=t[1],a=t[2];if(Ie(n),r){if(!document.getElementById("font-".concat(r))){var i=document.createElement("link");i.id="font-".concat(r),i.href="https://fonts.googleapis.com/css?family=".concat(r),i.rel="stylesheet",document.head.appendChild(i)}Le("".concat(r,", ").concat(null!==a&&void 0!==a?a:"sans-serif"))}else Le(null)}))}),[i]),Object(f.jsxs)("div",{style:Object(c.a)(Object(c.a)({},L),{},{position:"relative"}),className:D,children:[n(Object(c.a)({onChange:function(e){var t=e.currentTarget.value;if(m&&m(e),k(t),Me){var n,r=(n=e.target,n&&"number"===typeof n.selectionStart&&"number"===typeof n.selectionEnd?{start:n.selectionStart,end:n.selectionEnd}:{start:0,end:0}).end,a=Se.current;if(a){var i=p()(a,r),c=t.lastIndexOf(" ",r-1)<t.lastIndexOf("\n",r-1)?t.lastIndexOf("\n",r-1):t.lastIndexOf(" ",r-1);ve(c+1),we(r-1);var o=t.slice(c+1,r);if(o&&V){We(o);var s=a.getBoundingClientRect(),u=Math.min(i.left,s.width-50),l=Math.min(i.top+10,s.height);le(l),ce(u)}else Fe()}}},onKeyDown:function(e){if(te.length>0)if(P.includes(e.key))e.preventDefault(),Re(be,e.key);else switch(e.key){case"Escape":e.preventDefault(),Fe();break;case"ArrowUp":e.preventDefault(),pe((te.length+be-1)%te.length);break;case"ArrowDown":e.preventDefault(),pe((be+1)%te.length);break;default:I&&I(e)}else I&&I(e)},onBlur:function(e){"ontouchstart"in window||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0||(X&&te[be]?Re(be):Fe()),_&&_(e)},ref:Se,value:B,"data-testid":"rt-input-component",lang:i,style:Object(c.a)({direction:Be},Ae&&{fontFamily:Ae})},Z)),Me&&te.length>0&&Object(f.jsx)("ul",{style:Object(c.a)({left:"".concat(ie+b,"px"),top:"".concat(ue+O,"px"),position:"absolute",width:"auto"},Ae&&{fontFamily:Ae}),className:g(x).ReactTransliterate,"data-testid":"rt-suggestions-list",lang:i,children:Array.from(new Set(te)).map((function(e,t){return Object(f.jsx)("li",{className:t===be?g(x).Active:void 0,style:t===be&&F||{},onMouseEnter:function(){pe(t)},onClick:function(){return Re(t)},children:e},e)}))})]})},B=n(42),I=function(){var e=Object(r.useState)(""),t=Object(o.a)(e,2),n=t[0],a=t[1],i=Object(r.useState)(),s=Object(o.a)(i,2),u=s[0],l=s[1],d=Object(r.useState)("hi"),b=Object(o.a)(d,2),p=b[0],h=b[1];return Object(r.useEffect)((function(){T().then((function(e){return l(e)}))}),[]),Object(f.jsxs)("div",{className:"container",children:[Object(f.jsx)("h2",{children:"Indic transliterate"}),Object(f.jsx)("select",{className:"language-dropdown",value:p,onChange:function(e){return h(e.target.value)},children:null===u||void 0===u?void 0:u.map((function(e){return Object(f.jsx)("option",{value:e.LangCode,children:e.DisplayName},e.LangCode)}))}),Object(f.jsx)("div",{className:"spacer"}),Object(f.jsx)("label",{htmlFor:"react-transliterate-input",children:"Using input"}),Object(f.jsx)(_,{value:n,onChangeText:function(e){a(e)},lang:p,placeholder:"Start typing here...",id:"react-transliterate-input"}),Object(f.jsx)("div",{className:"spacer"}),Object(f.jsx)("label",{htmlFor:"react-transliterate-textarea",children:"Using textarea"}),Object(f.jsx)(_,{renderComponent:function(e){return Object(f.jsx)("textarea",Object(c.a)({},e))},value:n,onChangeText:function(e){a(e)},lang:p,placeholder:"Start typing here...",id:"react-transliterate-textarea"}),Object(f.jsx)("div",{className:"spacer"}),Object(f.jsx)("label",{htmlFor:"react-transliterate-material-ui-input",children:"Using Material UI input"}),Object(f.jsx)(_,{renderComponent:function(e){var t=e.ref;return delete e.ref,Object(f.jsx)(B.a,Object(c.a)(Object(c.a)({fullWidth:!0},e),{},{inputRef:t}))},value:n,onChangeText:function(e){a(e)},lang:p,placeholder:"Start typing here...",id:"react-transliterate-material-ui-input"})]})};i.a.render(Object(f.jsx)(I,{}),document.getElementById("root"))}},[[27,1,2]]]);
//# sourceMappingURL=main.315009e2.chunk.js.map