(this["webpackJsonpreact-transliterate-example"]=this["webpackJsonpreact-transliterate-example"]||[]).push([[0],{18:function(e,t,n){},27:function(e,t,n){"use strict";n.r(t);n(18);var r=n(0),a=n(12),i=n.n(a),o=n(4),c=n(2),s=n(16),u=n(5),l=n(15),d=n(9),p=n(1),f=n(13),b=n.n(f),g=["renderComponent","lang","offsetX","offsetY","onChange","onChangeText","onBlur","value","onKeyDown","containerClassName","containerStyles","activeItemStyles","maxOptions","hideSuggestionBoxOnMobileDevices","hideSuggestionBoxBreakpoint","triggerKeys","insertCurrentSelectionOnBlur","showCurrentWordAsLastSuggestion","enabled"];var h="Enter",j="Enter",v="Tab",O=" ",x="https://xlit-api.ai4bharat.org/",m=function(){var e=Object(d.a)(Object(u.a)().mark((function e(t,n){var r,a,i,o,c,s,d;return Object(u.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=(r=n||{numOptions:5,showCurrentWordAsLastSuggestion:!0,lang:"hi"}).showCurrentWordAsLastSuggestion,i=r.lang,o={method:"GET"},e.prev=2,e.next=5,fetch(x+"tl/".concat(i,"/").concat("."===t||".."===t?" "+t.replace(".","%2E"):encodeURIComponent(t).replace(".","%2E")),o);case 5:return c=e.sent,e.next=8,c.json();case 8:if(s=e.sent,console.log("library data",s),!(s&&s.result.length>0)){e.next=15;break}return d=a?[].concat(Object(l.a)(s.result),[t]):s.result,e.abrupt("return",d);case 15:if(!a){e.next=17;break}return e.abrupt("return",[t]);case 17:return e.abrupt("return",[]);case 18:e.next=24;break;case 20:return e.prev=20,e.t0=e.catch(2),console.error("There was an error with transliteration",e.t0),e.abrupt("return",[]);case 24:case"end":return e.stop()}}),e,null,[[2,20]])})));return function(t,n){return e.apply(this,arguments)}}(),w=function(){var e=Object(d.a)(Object(u.a)().mark((function e(){var t,n,r,a;return Object(u.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!sessionStorage.getItem("indic_transliterate__supported_languages")){e.next=4;break}return e.abrupt("return",JSON.parse(sessionStorage.getItem("indic_transliterate__supported_languages")||""));case 4:return t="".concat(x,"languages"),(new Headers).append("Content-Type","application/json"),n={method:"GET"},e.prev=8,e.next=11,fetch(t,n);case 11:return r=e.sent,e.next=14,r.json();case 14:return a=e.sent,sessionStorage.setItem("indic_transliterate__supported_languages",JSON.stringify(a)),e.abrupt("return",a);case 19:return e.prev=19,e.t0=e.catch(8),console.error("There was an error with transliteration",e.t0),e.abrupt("return",[]);case 23:case"end":return e.stop()}}),e,null,[[8,19]])})));return function(){return e.apply(this,arguments)}}(),S=function(e){var t=e.renderComponent,n=void 0===t?function(e){return Object(p.jsx)("input",Object(o.a)({},e))}:t,a=e.lang,i=void 0===a?"hi":a,l=e.offsetX,f=void 0===l?0:l,x=e.offsetY,S=void 0===x?10:x,y=e.onChange,C=e.onChangeText,k=e.onBlur,E=e.value,I=e.onKeyDown,T=e.containerClassName,B=void 0===T?"":T,D=e.containerStyles,_=void 0===D?{}:D,N=(e.activeItemStyles,e.maxOptions),L=void 0===N?5:N,W=e.hideSuggestionBoxOnMobileDevices,A=void 0!==W&&W,F=e.hideSuggestionBoxBreakpoint,M=void 0===F?450:F,U=e.triggerKeys,K=void 0===U?[O,j,h,v]:U,R=e.insertCurrentSelectionOnBlur,z=void 0===R||R,J=e.showCurrentWordAsLastSuggestion,G=void 0===J||J,H=e.enabled,P=void 0===H||H,X=Object(s.a)(e,g),Y=Object(r.useState)([]),q=Object(c.a)(Y,2),Q=q[0],V=q[1],Z=Object(r.useState)(0),$=Object(c.a)(Z,2),ee=$[0],te=$[1],ne=Object(r.useState)(0),re=Object(c.a)(ne,2),ae=re[0],ie=re[1],oe=Object(r.useState)(0),ce=Object(c.a)(oe,2),se=ce[0],ue=ce[1],le=Object(r.useState)(-1),de=Object(c.a)(le,2),pe=de[0],fe=de[1],be=Object(r.useState)(-1),ge=Object(c.a)(be,2),he=ge[0],je=ge[1],ve=Object(r.useRef)(null),Oe=Object(r.useState)({width:0,height:0}),xe=Object(c.a)(Oe,2),me=xe[0],we=xe[1],Se=Object(r.useState)("ltr"),ye=Object(c.a)(Se,2),Ce=ye[0],ke=ye[1],Ee=Object(r.useState)(null),Ie=Object(c.a)(Ee,2),Te=Ie[0],Be=Ie[1],De=Object(r.useMemo)((function(){return!A||me.width>M}),[me,M,A]),_e=function(){ue(0),V([])},Ne=function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:" ",r=E,a=r.substring(0,pe)+Q[e]+" "+r.substring(he+1,r.length);setTimeout((function(){var t,r;t=ve.current,r="Enter"===n?pe+Q[e].length:pe+Q[e].length+1,t&&(t.selectionStart?(t.focus(),t.setSelectionRange(r,r)):t.focus())}),1);var i={target:{value:a}};return C(a),y&&y(i),_e(),null===(t=ve.current)||void 0===t?void 0:t.focus()},Le=function(){var e=Object(d.a)(Object(u.a)().mark((function e(t){var n,r;return Object(u.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(De){e.next=2;break}return e.abrupt("return");case 2:return n=G?L-1:L,e.next=5,m(t,{numOptions:n,showCurrentWordAsLastSuggestion:G,lang:i});case 5:r=e.sent,V(null!==r&&void 0!==r?r:[]);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),We=function(){var e=Object(d.a)(Object(u.a)().mark((function e(t){var n,r,a;return Object(u.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w();case 2:return n=e.sent,r=null===n||void 0===n?void 0:n.find((function(e){return e.LangCode===t})),e.abrupt("return",[null!==(a=null===r||void 0===r?void 0:r.Direction)&&void 0!==a?a:"ltr",null===r||void 0===r?void 0:r.GoogleFont,null===r||void 0===r?void 0:r.FallbackFont]);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ae=function(){var e=window.innerWidth,t=window.innerHeight;we({width:e,height:t})};return Object(r.useEffect)((function(){window.addEventListener("resize",Ae);var e=window.innerWidth,t=window.innerHeight;return we({width:e,height:t}),function(){window.removeEventListener("resize",Ae)}}),[]),Object(r.useEffect)((function(){We(i).then((function(e){var t=Object(c.a)(e,3),n=t[0],r=t[1],a=t[2];if(ke(n),r){if(!document.getElementById("font-".concat(r))){var i=document.createElement("link");i.id="font-".concat(r),i.href="https://fonts.googleapis.com/css?family=".concat(r),i.rel="stylesheet",document.head.appendChild(i)}Be("".concat(r,", ").concat(null!==a&&void 0!==a?a:"sans-serif"))}else Be(null)}))}),[i]),Object(p.jsxs)("div",{style:Object(o.a)(Object(o.a)({},_),{},{position:"relative"}),className:B,children:[n(Object(o.a)({onChange:function(e){var t=e.currentTarget.value;if(y&&y(e),C(t),De){var n,r=(n=e.target,n&&"number"===typeof n.selectionStart&&"number"===typeof n.selectionEnd?{start:n.selectionStart,end:n.selectionEnd}:{start:0,end:0}).end,a=ve.current;if(a){var i=b()(a,r),o=t.lastIndexOf(" ",r-1)<t.lastIndexOf("\n",r-1)?t.lastIndexOf("\n",r-1):t.lastIndexOf(" ",r-1);fe(o+1),je(r-1);var c=t.slice(o+1,r);if(c&&P){Le(c);var s=a.getBoundingClientRect(),u=Math.min(i.left,s.width-50),l=Math.min(i.top+10,s.height);ie(l),te(u)}else _e()}}},onKeyDown:function(e){if(Q.length>0)if(K.includes(e.key))e.preventDefault(),Ne(se,e.key);else switch(e.key){case"Escape":e.preventDefault(),_e();break;case"ArrowUp":e.preventDefault(),ue((Q.length+se-1)%Q.length);break;case"ArrowDown":e.preventDefault(),ue((se+1)%Q.length);break;default:I&&I(e)}else I&&I(e)},onBlur:function(e){"ontouchstart"in window||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0||(z&&Q[se]?Ne(se):_e()),k&&k(e)},ref:ve,value:E,"data-testid":"rt-input-component",lang:i,style:Object(o.a)({direction:Ce},Te&&{fontFamily:Te})},X)),De&&Q.length>0&&Object(p.jsx)("ul",{style:Object(o.a)({backgroundClip:"padding-box",backgroundColor:"#fff",border:"1px solid rgba(0, 0, 0, 0.15)",boxShadow:"0 6px 12px rgba(0, 0, 0, 0.175)",display:"block",fontSize:"14px",listStyle:"none",padding:"1px",textAlign:"left",zIndex:2e4,left:"".concat(ee+f,"px"),top:"".concat(ae+S,"px"),position:"absolute",width:"auto"},Te&&{fontFamily:Te}),"data-testid":"rt-suggestions-list",lang:i,children:Array.from(new Set(Q)).map((function(e,t){return Object(p.jsx)("li",{style:t===se?{cursor:"pointer",padding:"10px",minWidth:"100px",backgroundColor:"#65c3d7",color:"#fff"}:{cursor:"pointer",padding:"10px",minWidth:"100px",backgroundColor:"#fff"},onMouseEnter:function(){ue(t)},onClick:function(){return Ne(t)},children:e},e)}))})]})},y=n(42),C=function(){var e=Object(r.useState)(""),t=Object(c.a)(e,2),n=t[0],a=t[1],i=Object(r.useState)(),s=Object(c.a)(i,2),u=s[0],l=s[1],d=Object(r.useState)("hi"),f=Object(c.a)(d,2),b=f[0],g=f[1];return Object(r.useEffect)((function(){w().then((function(e){return l(e)}))}),[]),Object(p.jsxs)("div",{className:"container",children:[Object(p.jsx)("h2",{children:"Indic transliterate"}),Object(p.jsx)("select",{className:"language-dropdown",value:b,onChange:function(e){return g(e.target.value)},children:null===u||void 0===u?void 0:u.map((function(e){return Object(p.jsx)("option",{value:e.LangCode,children:e.DisplayName},e.LangCode)}))}),Object(p.jsx)("div",{className:"spacer"}),Object(p.jsx)("label",{htmlFor:"react-transliterate-input",children:"Using input"}),Object(p.jsx)(S,{value:n,onChangeText:function(e){a(e)},lang:b,placeholder:"Start typing here...",id:"react-transliterate-input"}),Object(p.jsx)("div",{className:"spacer"}),Object(p.jsx)("label",{htmlFor:"react-transliterate-textarea",children:"Using textarea"}),Object(p.jsx)(S,{renderComponent:function(e){return Object(p.jsx)("textarea",Object(o.a)({},e))},value:n,onChangeText:function(e){a(e)},lang:b,placeholder:"Start typing here...",id:"react-transliterate-textarea"}),Object(p.jsx)("div",{className:"spacer"}),Object(p.jsx)("label",{htmlFor:"react-transliterate-material-ui-input",children:"Using Material UI input"}),Object(p.jsx)(S,{renderComponent:function(e){var t=e.ref;return delete e.ref,Object(p.jsx)(y.a,Object(o.a)(Object(o.a)({fullWidth:!0},e),{},{inputRef:t}))},value:n,onChangeText:function(e){a(e)},lang:b,placeholder:"Start typing here...",id:"react-transliterate-material-ui-input"})]})};i.a.render(Object(p.jsx)(C,{}),document.getElementById("root"))}},[[27,1,2]]]);
//# sourceMappingURL=main.ac06be3e.chunk.js.map